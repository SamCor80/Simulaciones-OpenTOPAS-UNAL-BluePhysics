# Jaws for Siemens Oncor: Uses TOPAS component Jaws
# Reference for geometry: Jabbari et al, J Med Signal Sens 3(3):172-179

############################# Parameter Descriptions #################################
# The parameters in Jaws.txt are intended as defaults to be adjusted in higher level
# parameter control files FullTxHead.txt or Field.txt
#
# Parameters available for adjustment...
# SourceToUpstreamSurfaceDistance: Distance from x-ray target to jaw
# Jaw/RotZ: Jaw orientation, dependent on direction of jaw travel along IEC_B
# NegativeFieldSetting: NegativeFieldSetting <= PositiveFieldSetting (IEC X1)
# PositiveFieldSetting: Positive jaw position projected to isocenter (IEC X2) 
#
# Parameters calculated from other parameters...
# SAD: Source axis distance (nominal distance from x-ray target to gantry rotation axis)
#######################################################################################

d:Ge/SAD = 100. cm

d:Ge/JawY/NegativeFieldSetting  = -10 cm #Field setting along negative IEC_B axis
d:Ge/JawY/PositiveFieldSetting  = 10 cm #Field setting along positive IEC_B axis
d:Ge/JawY/JawRotZforTravelAlongIECX = 0. deg # Constant for jaw travel along IEC X axis – DO NOT CHANGE
d:Ge/JawY/JawRotZforTravelAlongIECY = -90. deg # Constant for jaw travel along IEC Y axis – DO NOT CHANGE
d:Ge/JawY/RotZ = Ge/JawY/JawRotZforTravelAlongIECY deg # Set to JawRotZforTravelAlongIECX or JawRotZforTravelAlongIECY

s:Ge/JawY/Parent         = "World"
s:Ge/JawY/Type           = "TsJaws"
s:Ge/JawY/Material       = "G4_W"

d:Ge/JawY/LX             = 18. cm  # Actual jaw width along JawTravelAxis
d:Ge/JawY/LY             = 32. cm  # Actual jaw length perpendicular to JawTravelAxis
d:Ge/JawY/LZ             = 7.80 cm # Jaw thickness along IEC Zb axis
d:Ge/JawY/SourceToUpstreamSurfaceDistance = 52. cm #Distance from x-ray target to jaw 
d:Ge/JawY/SAD        	= Ge/SAD cm

d:Ge/JawY/DistSourceToSAD = Ge/JawY/SAD - Ge/JawY/SourceToUpstreamSurfaceDistance cm
d:Ge/JawY/HalfThickness = 0.5 * Ge/JawY/LZ cm
d:Ge/JawY/TransZ = Ge/JawY/DistSourceToSAD - Ge/JawY/HalfThickness cm

s:Ge/JawY/DrawingStyle   = "Solid"
